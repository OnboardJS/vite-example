import { cn } from "@/lib/utils";

type KeyProps = {
  name: string;
  width?: number;
  className?: string;
  children?: React.ReactNode;
};

export function Key({ name, width = 36, className, children }: KeyProps) {
  return (
    <div
      aria-label={name}
      style={{
        width: `${width / 16}rem`,
        scale: 1,
        boxShadow: `rgb(255, 255, 255) 0px 0px 0px 0px, rgba(47, 127, 221, 0.8) 0px 0px 0px 1px, rgba(47, 127, 221, 0.15) 0px 0px 3px 3px,rgba(47, 127, 221, 0.1) 0px 0px 0px 0px`,
      }}
      className={cn(
        className,
        "h-20",
        "flex flex-col items-center justify-center gap-0.5 px-1 py-px",
        "rounded-sm bg-white bg-linear-to-t from-black/3 shadow-2xs ring-1 ring-black/10",
        "dark:bg-gray-900 dark:from-white/3 dark:ring-white/10",
        "[:where(&_svg)]:h-3.5 [:where(&_svg)]:fill-gray-600"
      )}
    >
      {children}
    </div>
  );
}

export function CommandKey({
  position,
  ...props
}: Omit<KeyProps, "name"> & { position: "Left" | "Right" }) {
  return (
    <Key name={`${position}Command`} width={50} {...props}>
      <svg viewBox="0 0 12 14" className="w-[50%] h-auto">
        <path d="M3.796 6.68h-.844a1.747 1.747 0 0 1-1.517-.85 1.677 1.677 0 0 1-.235-.876c0-.322.078-.616.235-.883a1.74 1.74 0 0 1 1.517-.876 1.74 1.74 0 0 1 1.51.876c.157.267.235.561.235.883v.844h1.949v-.844c0-.322.078-.616.235-.883.156-.27.366-.484.628-.64.267-.157.563-.236.889-.236a1.74 1.74 0 0 1 1.504.876c.161.267.242.561.242.883 0 .321-.08.613-.242.876-.156.262-.368.47-.634.622a1.7 1.7 0 0 1-.87.228h-.85v1.974h.85c.317 0 .607.079.87.235.266.152.478.36.634.622.161.258.242.548.242.87 0 .326-.08.622-.242.889a1.823 1.823 0 0 1-.634.634 1.665 1.665 0 0 1-.87.235c-.326 0-.622-.078-.889-.235a1.84 1.84 0 0 1-.628-.634 1.722 1.722 0 0 1-.235-.89v-.843H4.697v.844c0 .326-.078.622-.235.889a1.823 1.823 0 0 1-.634.634 1.677 1.677 0 0 1-.876.235 1.71 1.71 0 0 1-.883-.235 1.823 1.823 0 0 1-.634-.634 1.722 1.722 0 0 1-.235-.89c0-.32.078-.61.235-.869.156-.262.368-.47.634-.622a1.71 1.71 0 0 1 .883-.235h.844V6.68Zm-.838-.876h.838V4.96a.831.831 0 0 0-.254-.61.796.796 0 0 0-.59-.253.824.824 0 0 0-.603.254.82.82 0 0 0-.248.603c0 .232.085.433.254.603.17.165.37.247.603.247Zm5.427 0a.82.82 0 0 0 .603-.247.834.834 0 0 0 .248-.603.82.82 0 0 0-.248-.603.796.796 0 0 0-.59-.254.824.824 0 0 0-.603.254.842.842 0 0 0-.248.609v.844h.838ZM4.697 8.667H6.64V6.674H4.697v1.993Zm-1.739.857a.824.824 0 0 0-.603.254.803.803 0 0 0-.254.596.842.842 0 0 0 .85.857.806.806 0 0 0 .591-.247.838.838 0 0 0 .254-.616v-.844h-.838Zm5.427 0h-.838v.844a.85.85 0 0 0 .851.863.806.806 0 0 0 .59-.247.842.842 0 0 0 .248-.61.813.813 0 0 0-.248-.596.81.81 0 0 0-.603-.254Z" />
      </svg>
    </Key>
  );
}

export function ControlKey({ className, ...props }: Omit<KeyProps, "name">) {
  return (
    <Key
      name="Control"
      className={cn("text-muted-foreground", className)}
      {...props}
    >
      <svg
        width="28"
        height="24"
        viewBox="6 4 16 5"
        fill="none"
        className="w-full h-auto"
        xmlns="http://www.w3.org/2000/svg"
      >
        <mask id="path-1-inside-1_95_2" fill="white">
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M17.772 11.5507V7.44084H18.479V8.07382H18.514C18.551 7.98382 18.611 7.88382 18.694 7.77783C18.777 7.67083 18.896 7.57783 19.049 7.49983C19.203 7.41984 19.399 7.37984 19.639 7.37984C19.684 7.37984 19.727 7.38184 19.769 7.38684C19.813 7.38984 19.855 7.39284 19.897 7.39884V8.04282C19.8495 8.03368 19.8014 8.02866 19.753 8.02782C19.6905 8.02243 19.6278 8.01976 19.565 8.01982C19.325 8.01982 19.125 8.06382 18.963 8.15282C18.8116 8.23406 18.6869 8.35734 18.604 8.50781C18.524 8.6558 18.483 8.8238 18.483 9.01179V11.5507H17.772ZM14.924 7.45283V6.42286H15.624V7.45283H16.554V8.02782H15.624V10.3948C15.624 10.6368 15.672 10.7997 15.768 10.8827C15.864 10.9627 16.038 11.0037 16.288 11.0037C16.338 11.0037 16.396 11.0017 16.463 10.9957L16.612 10.9847V11.5507C16.4448 11.5721 16.2765 11.5838 16.108 11.5857C15.783 11.5857 15.534 11.5437 15.362 11.4607C15.199 11.3819 15.0738 11.2417 15.014 11.0707C14.9458 10.8535 14.9144 10.6264 14.921 10.3988V8.02782H14.291V7.45283H14.924Z"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M20.5 5.9729V11.5859H21.207V5.9729H20.5Z"
          />
        </mask>
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M17.772 11.5507V7.44084H18.479V8.07382H18.514C18.551 7.98382 18.611 7.88382 18.694 7.77783C18.777 7.67083 18.896 7.57783 19.049 7.49983C19.203 7.41984 19.399 7.37984 19.639 7.37984C19.684 7.37984 19.727 7.38184 19.769 7.38684C19.813 7.38984 19.855 7.39284 19.897 7.39884V8.04282C19.8495 8.03368 19.8014 8.02866 19.753 8.02782C19.6905 8.02243 19.6278 8.01976 19.565 8.01982C19.325 8.01982 19.125 8.06382 18.963 8.15282C18.8116 8.23406 18.6869 8.35734 18.604 8.50781C18.524 8.6558 18.483 8.8238 18.483 9.01179V11.5507H17.772ZM14.924 7.45283V6.42286H15.624V7.45283H16.554V8.02782H15.624V10.3948C15.624 10.6368 15.672 10.7997 15.768 10.8827C15.864 10.9627 16.038 11.0037 16.288 11.0037C16.338 11.0037 16.396 11.0017 16.463 10.9957L16.612 10.9847V11.5507C16.4448 11.5721 16.2765 11.5838 16.108 11.5857C15.783 11.5857 15.534 11.5437 15.362 11.4607C15.199 11.3819 15.0738 11.2417 15.014 11.0707C14.9458 10.8535 14.9144 10.6264 14.921 10.3988V8.02782H14.291V7.45283H14.924Z"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M20.5 5.9729V11.5859H21.207V5.9729H20.5Z"
        />
        <path
          d="M17.772 11.5507H16.772V12.5507H17.772V11.5507ZM17.772 7.44084V6.44084H16.772V7.44084H17.772ZM18.479 7.44084H19.479V6.44084H18.479V7.44084ZM18.479 8.07382H17.479V9.07382H18.479V8.07382ZM18.514 8.07382V9.07382H19.1841L19.4389 8.45407L18.514 8.07382ZM18.694 7.77783L19.4814 8.39435L19.4842 8.39076L18.694 7.77783ZM19.049 7.49983L19.5032 8.39077L19.51 8.38724L19.049 7.49983ZM19.769 7.38684L19.6508 8.37983L19.6758 8.38281L19.701 8.38452L19.769 7.38684ZM19.897 7.39884H20.897V6.53154L20.0384 6.40889L19.897 7.39884ZM19.897 8.04282L19.7079 9.02477L20.897 9.25381V8.04282H19.897ZM19.753 8.02782L19.6671 9.02413L19.7014 9.02708L19.7357 9.02767L19.753 8.02782ZM19.565 8.01982L19.565 9.01982L19.566 9.01982L19.565 8.01982ZM18.963 8.15282L19.4359 9.034L19.4445 9.02927L18.963 8.15282ZM18.604 8.50781L17.7282 8.02508L17.7243 8.03228L18.604 8.50781ZM18.483 11.5507V12.5507H19.483V11.5507H18.483ZM14.924 7.45283V8.45283H15.924V7.45283H14.924ZM14.924 6.42286V5.42286H13.924V6.42286H14.924ZM15.624 6.42286H16.624V5.42286H15.624V6.42286ZM15.624 7.45283H14.624V8.45283H15.624V7.45283ZM16.554 7.45283H17.554V6.45283H16.554V7.45283ZM16.554 8.02782V9.02782H17.554V8.02782H16.554ZM15.624 8.02782V7.02782H14.624V8.02782H15.624ZM15.768 10.8827L15.114 11.6392L15.1209 11.6452L15.1278 11.651L15.768 10.8827ZM16.463 10.9957L16.3894 9.99845L16.3816 9.99903L16.3738 9.99973L16.463 10.9957ZM16.612 10.9847H17.612V9.9082L16.5384 9.98745L16.612 10.9847ZM16.612 11.5507L16.7387 12.5427L17.612 12.4312V11.5507H16.612ZM16.108 11.5857L16.108 12.5858L16.1197 12.5857L16.108 11.5857ZM15.362 11.4607L14.9269 12.3611L14.9274 12.3614L15.362 11.4607ZM15.014 11.0707L14.0599 11.3702L14.0647 11.3856L14.0701 11.4009L15.014 11.0707ZM14.921 10.3988L15.9206 10.4278L15.921 10.4133V10.3988H14.921ZM14.921 8.02782H15.921V7.02782H14.921V8.02782ZM14.291 8.02782H13.291V9.02782H14.291V8.02782ZM14.291 7.45283V6.45283H13.291V7.45283H14.291ZM20.5 5.9729V4.9729H19.5V5.9729H20.5ZM20.5 11.5859H19.5V12.5859H20.5V11.5859ZM21.207 11.5859V12.5859H22.207V11.5859H21.207ZM21.207 5.9729H22.207V4.9729H21.207V5.9729ZM17.772 11.5507H18.772V7.44084H17.772H16.772V11.5507H17.772ZM17.772 7.44084V8.44084H18.479V7.44084V6.44084H17.772V7.44084ZM18.479 7.44084H17.479V8.07382H18.479H19.479V7.44084H18.479ZM18.479 8.07382V9.07382H18.514V8.07382V7.07382H18.479V8.07382ZM18.514 8.07382L19.4389 8.45407C19.435 8.46354 19.4347 8.46216 19.442 8.45012C19.4491 8.43842 19.4616 8.41962 19.4814 8.39435L18.694 7.77783L17.9067 7.16131C17.7828 7.31947 17.6694 7.4983 17.5891 7.69357L18.514 8.07382ZM18.694 7.77783L19.4842 8.39076C19.4696 8.40945 19.4598 8.41684 19.4616 8.41544C19.4637 8.41382 19.476 8.40462 19.5032 8.39075L19.049 7.49983L18.5948 6.60892C18.3458 6.73587 18.0984 6.91413 17.9039 7.1649L18.694 7.77783ZM19.049 7.49983L19.51 8.38724C19.4931 8.396 19.4905 8.39396 19.5112 8.38974C19.5326 8.3854 19.5734 8.37984 19.639 8.37984V7.37984V6.37984C19.2959 6.37984 18.9279 6.43589 18.588 6.61242L19.049 7.49983ZM19.639 7.37984V8.37984C19.6548 8.37984 19.6571 8.38057 19.6508 8.37983L19.769 7.38684L19.8872 6.39385C19.7969 6.3831 19.7132 6.37984 19.639 6.37984V7.37984ZM19.769 7.38684L19.701 8.38452C19.7232 8.38604 19.7357 8.38694 19.7459 8.38784C19.7551 8.38866 19.7574 8.38905 19.7556 8.38879L19.897 7.39884L20.0384 6.40889C19.9548 6.39694 19.8778 6.39193 19.837 6.38915L19.769 7.38684ZM19.897 7.39884H18.897V8.04282H19.897H20.897V7.39884H19.897ZM19.897 8.04282L20.0861 7.06087C19.982 7.04081 19.8763 7.0298 19.7703 7.02797L19.753 8.02782L19.7357 9.02767C19.7264 9.02751 19.7171 9.02654 19.7079 9.02477L19.897 8.04282ZM19.753 8.02782L19.8389 7.03152C19.7475 7.02364 19.6558 7.01973 19.5641 7.01982L19.565 8.01982L19.566 9.01982C19.5997 9.01979 19.6335 9.02122 19.6671 9.02413L19.753 8.02782ZM19.565 8.01982V7.01982C19.2065 7.01982 18.8293 7.0853 18.4815 7.27637L18.963 8.15282L19.4445 9.02927C19.4207 9.04234 19.4435 9.01982 19.565 9.01982V8.01982ZM18.963 8.15282L18.4902 7.27168C18.1689 7.4441 17.9043 7.70574 17.7282 8.02509L18.604 8.50781L19.4798 8.99052C19.4696 9.00894 19.4544 9.02402 19.4359 9.03396L18.963 8.15282ZM18.604 8.50781L17.7243 8.03228C17.5582 8.33962 17.483 8.67355 17.483 9.01179H18.483H19.483C19.483 8.99085 19.4852 8.98088 19.4857 8.97915C19.486 8.97782 19.4855 8.98003 19.4837 8.98333L18.604 8.50781ZM18.483 9.01179H17.483V11.5507H18.483H19.483V9.01179H18.483ZM18.483 11.5507V10.5507H17.772V11.5507V12.5507H18.483V11.5507ZM14.924 7.45283H15.924V6.42286H14.924H13.924V7.45283H14.924ZM14.924 6.42286V7.42286H15.624V6.42286V5.42286H14.924V6.42286ZM15.624 6.42286H14.624V7.45283H15.624H16.624V6.42286H15.624ZM15.624 7.45283V8.45283H16.554V7.45283V6.45283H15.624V7.45283ZM16.554 7.45283H15.554V8.02782H16.554H17.554V7.45283H16.554ZM16.554 8.02782V7.02782H15.624V8.02782V9.02782H16.554V8.02782ZM15.624 8.02782H14.624V10.3948H15.624H16.624V8.02782H15.624ZM15.624 10.3948H14.624C14.624 10.6871 14.6656 11.2516 15.114 11.6392L15.768 10.8827L16.422 10.1263C16.5605 10.246 16.6069 10.3738 16.6192 10.4155C16.6311 10.4559 16.624 10.4572 16.624 10.3948H15.624ZM15.768 10.8827L15.1278 11.651C15.5109 11.9702 15.9983 12.0037 16.288 12.0037V11.0037V10.0037C16.2123 10.0037 16.1873 9.99701 16.1976 9.99942C16.2044 10.001 16.2283 10.007 16.2632 10.0227C16.2983 10.0384 16.3506 10.0665 16.4082 10.1145L15.768 10.8827ZM16.288 11.0037V12.0037C16.3654 12.0037 16.4533 12.0006 16.5522 11.9918L16.463 10.9957L16.3738 9.99973C16.3388 10.0029 16.3106 10.0037 16.288 10.0037V11.0037ZM16.463 10.9957L16.5366 11.993L16.6856 11.982L16.612 10.9847L16.5384 9.98745L16.3894 9.99845L16.463 10.9957ZM16.612 10.9847H15.612V11.5507H16.612H17.612V10.9847H16.612ZM16.612 11.5507L16.4854 10.5588C16.3563 10.5753 16.2264 10.5843 16.0963 10.5858L16.108 11.5857L16.1197 12.5857C16.3267 12.5832 16.5333 12.5689 16.7387 12.5427L16.612 11.5507ZM16.108 11.5857V10.5857C15.9863 10.5857 15.9001 10.5777 15.8432 10.5681C15.7844 10.5583 15.7754 10.5499 15.7966 10.5601L15.362 11.4607L14.9274 12.3614C15.2978 12.5401 15.7227 12.5857 16.108 12.5857V11.5857ZM15.362 11.4607L15.7971 10.5604C15.8725 10.5968 15.9303 10.6616 15.9579 10.7405L15.014 11.0707L14.0701 11.4009C14.2173 11.8218 14.5254 12.1671 14.9269 12.3611L15.362 11.4607ZM15.014 11.0707L15.9681 10.7713C15.9333 10.6603 15.9172 10.5441 15.9206 10.4278L14.921 10.3988L13.9214 10.3697C13.9116 10.7086 13.9584 11.0467 14.0599 11.3702L15.014 11.0707ZM14.921 10.3988H15.921V8.02782H14.921H13.921V10.3988H14.921ZM14.921 8.02782V7.02782H14.291V8.02782V9.02782H14.921V8.02782ZM14.291 8.02782H15.291V7.45283H14.291H13.291V8.02782H14.291ZM14.291 7.45283V8.45283H14.924V7.45283V6.45283H14.291V7.45283ZM20.5 5.9729H19.5V11.5859H20.5H21.5V5.9729H20.5ZM20.5 11.5859V12.5859H21.207V11.5859V10.5859H20.5V11.5859ZM21.207 11.5859H22.207V5.9729H21.207H20.207V11.5859H21.207ZM21.207 5.9729V4.9729H20.5V5.9729V6.9729H21.207V5.9729Z"
          mask="url(#path-1-inside-1_95_2)"
        />
        <path d="M8.265 6.224V7.544C8.265 8.191 8.36 8.742 8.552 9.198C8.743 9.653 9.021 10.002 9.386 10.244C9.75 10.481 10.192 10.599 10.712 10.599C11.112 10.599 11.468 10.529 11.778 10.387C12.088 10.246 12.338 10.05 12.53 9.799C12.7257 9.54497 12.8488 9.24253 12.886 8.924H14.13V8.965C14.084 9.494 13.906 9.965 13.597 10.38C13.291 10.795 12.887 11.121 12.387 11.358C11.89 11.595 11.329 11.713 10.705 11.713C9.917 11.713 9.245 11.552 8.688 11.228C8.13248 10.8949 7.69346 10.3982 7.431 9.806C7.143 9.186 7 8.436 7 7.557V6.21C7 5.33 7.146 4.577 7.437 3.948C7.729 3.318 8.153 2.838 8.709 2.505C9.265 2.168 9.93 2 10.705 2C11.175 2 11.61 2.07 12.011 2.211C12.3985 2.34452 12.7579 2.54863 13.071 2.813C13.375 3.073 13.619 3.378 13.801 3.729C13.988 4.08 14.098 4.467 14.13 4.891V4.932H12.886C12.8514 4.59419 12.7287 4.2714 12.53 3.996C12.3324 3.72102 12.0691 3.49995 11.764 3.353C11.454 3.193 11.104 3.113 10.712 3.113C10.202 3.113 9.764 3.239 9.399 3.49C9.035 3.736 8.754 4.091 8.559 4.556C8.362 5.016 8.265 5.572 8.265 6.224Z" />
      </svg>
    </Key>
  );
}

export function KKey(props: Omit<KeyProps, "name">) {
  return (
    <Key name="K" {...props}>
      <svg viewBox="0 0 9 14" className="w-[50%] h-auto">
        <path d="M8.08 2.668 4.614 6.646 8.258 12H6.672L3.678 7.508 2.55 8.745V12H1.292V2.668H2.55v4.478h.054L6.61 2.668h1.47Z" />
      </svg>
    </Key>
  );
}
